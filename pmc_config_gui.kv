#:kivy 1.0
<PMC_Config_GUI>:
    text: 'Configuration'
    AnchorLayout:
        # size: parent.layout_top_width, parent.layout_top_height
        anchor_y: "top"
        ScrollView:
            id: cfg_scrlv
            padding: [10, 10, 10, 10]
            canvas.after:
                Color:
                    rgba: self.bar_color[:3] + [self.bar_color[3] * 1 if self.do_scroll_y else 0]
                Rectangle:
                    pos: self.right - self.bar_width - self.bar_margin, self.y + self.height * self.vbar[0]
                    size: self.bar_width, self.height * self.vbar[1]
                Color:
                    rgba: self.bar_color[:3] + [self.bar_color[3] * 1 if self.do_scroll_x else 0]
                Rectangle:
                    pos: self.x + self.width * self.hbar[0], self.y + self.bar_margin
                    size: self.width * self.hbar[1], self.bar_width
            size: self.size
            do_scroll_x: False
            do_scroll_y: True
            scroll_type: ['bars']
            bar_width: 13

            GridLayout:
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                GridLayout:
                    cols:1
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height: 40
                    row_force_default: True
                    spacing: 0, 0
                    padding: [10, 10, 10, 10]
                    Button:
                        id: reset_default_btn
                        text: 'Reset Defaults'
                        size_hint_y: None
                        height: 40
                        on_press: root.resetDefaultConfig()
                    Button:
                        id: read_cfg_btn
                        text: 'Read Config File'
                        size_hint_y: None
                        height: 40
                        on_press: root.readConfig()
                    Button:
                        id: save_cfg_btn
                        text: 'Save Config'
                        size_hint_y: None
                        height: 40
                        on_press: root.saveConfig()
                Label:
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1 
                        Line:
                            width: 1
                            rectangle: self.x, self.y, self.width, self.height
                    text: 'Connection'
                    bold: True
                    size_hint_y: None
                    height: 40
                GridLayout:
                    cols:2
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height: 40
                    row_force_default: True
                    spacing: 0, 0
                    padding: [10, 10, 10, 10]
                    Label:
                        text: 'IP Address: '
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        size_hint_y: None
                        height: 40
                    TextInput:
                        id: ip_addr_txt
                        text: root.ip_addr_prop
                        multiline: False
                        size_hint_y: None
                        height: 40
                    Label:
                        text: 'Port: '
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        size_hint_y: None
                        height: 40
                    IntegerInput:
                        id: port_uint
                        text: root.port_prop
                        num_digits: 5
                        unsigned: True
                        multiline: False
                        size_hint_y: None
                        height: 40
                Label:
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1 
                        Line:
                            width: 1
                            rectangle: self.x, self.y, self.width, self.height
                    text: 'Speeds'
                    bold: True
                    size_hint_y: None
                    height: 40
                GridLayout:
                    cols:2
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height: 40
                    row_force_default: True
                    spacing: 0, 0
                    padding: [10, 10, 10, 10]
                    Label: 
                        text: 'Fan Speed [%]: '
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        size_hint_y: None
                        height: 40
                    IntegerInput:
                        id: fan_speed_uint
                        text: root.fan_speed_prop
                        unsigned: True
                        limit_input: True
                        upper_lim: 100
                        lower_lim: 0
                        multiline: False
                        size_hint_y: None
                        height: 40
                    Label: 
                        text: 'Homing Speed [steps/sec]: '
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        size_hint_y: None
                        height: 40
                    IntegerInput:
                        id: home_speed_uint
                        text: root.home_speed_prop
                        unsigned: True
                        num_digits: 15
                        multiline: False
                        size_hint_y: None
                        height: 40
                    Label: 
                        text: 'Relative Move Speed ['+u'\N{DEGREE SIGN}' + '/sec]: '
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        size_hint_y: None
                        height: 40
                    FloatInput:
                        id: rel_mv_speed_flt
                        text: root.rel_speed_prop
                        multiline: False
                        size_hint_y: None
                        height: 40
                    Label: 
                        text: 'Absolute Move Speed ['+u'\N{DEGREE SIGN}' + '/sec]: '
                        text_size: self.size
                        halign: 'right'
                        valign: 'middle'
                        size_hint_y: None
                        height: 40
                    FloatInput:
                        id: abs_mv_speed_flt
                        text: root.abs_speed_prop
                        multiline: False
                        size_hint_y: None
                        height: 40
