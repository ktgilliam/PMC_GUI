#:kivy 2.2.0

# <TabbedPanelStrip>
#     canvas:
#         Color:
#             rgba: (0, 1, 0, 1) # green
#         Rectangle:
#             size: self.size
#             pos: self.pos

PMC_GUI:

    id: id: id.__self__
    cols: 1     

    ip_addr_prop:  app.config.get('Connection','ip_addr')
    tip_tilt_port_prop: int(app.config.get('Connection','tip_tilt_ip_port'))
    tec_a_port_prop: int(app.config.get('Connection','tec_a_ip_port'))
    tec_b_port_prop: int(app.config.get('Connection','tec_b_ip_port'))
    fan_speed_prop: int(app.config.get('Motion','fan_speed'))
    home_speed_prop: int(app.config.get('Motion','homing_speed'))
    homing_timeout_prop: int(app.config.get('Motion','homing_timeout'))
    rel_speed_prop: int(app.config.get('Motion','rel_move'))
    abs_speed_prop: int(app.config.get('Motion','abs_move'))
    debug_mode_prop: app.config.get('General', 'dbg_mode')=='True'

    # GridLayout:   

    # canvas.before:
    #     Color:
    #         rgba: 0, 1, 0, 1
    #     Line:
    #         width: 2
    #         rectangle: self.x, self.y, self.width, self.height

    # Top half is for inputs.
    BackgroundLabel:
        background_color: 0,0,0,1
        id: title_label
        text: "PRIMARY MIRROR CONTROL [Version 0.2]"
        font_size: '20sp'
        bold: True
        size_hint_y: None
        height: 30

    TabbedPanel:
        id: 'tp'
        do_default_tab: False
        tab_height: 30
        tab_width: 200
        TabbedPanelItem:
            # size_hint: 0.5, None
            # width: 160
            text: 'Tip/Tilt/Focus Control'
            TipTiltControlWidget:
                label: 'TipTilt'
                id: tipTiltCtrl
        TabbedPanelItem:
            # size_hint: 0.5, None
            text: 'TEC Control'
            TECControlWidget:
                id: tecCtrl
        TabbedPanelItem:
            text: 'Wavefront Stuff'
            Label:
                text: 'Wavefront Stuff'

    TerminalWidget:
        label: 'Terminal'
        id: terminal
        # size_hint: 1, None
        # height: 
        # size: root.width, root.height/2
            


